# [Gold I] 합성함수와 쿼리 - 17435 

[문제 링크](https://www.acmicpc.net/problem/17435) 

### 성능 요약

메모리: 179028 KB, 시간: 444 ms

### 분류

자료 구조, 희소 배열

### 제출 일자

2025년 4월 2일 10:55:34

### 문제 설명

<p>함수 f : {1, 2, ..., m}→{1, 2, ..., m}이 있다. 이때 f<sub>n</sub> : {1, 2, ..., m}→{1, 2, ..., m}을 다음과 같이 정의하자.</p>

<ul>
	<li>f<sub>1</sub>(x) = f(x)</li>
	<li>f<sub>n+1</sub>(x) = f(f<sub>n</sub>(x))</li>
</ul>

<p>예를 들어 f<sub>4</sub>(1) = f(f(f(f(1))))이다.</p>

<p>n과 x가 주어질 때 f<sub>n</sub>(x)를 계산하는 쿼리를 수행하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫 줄에 정수 m이 주어진다. (1 ≤ m ≤ 200,000)</p>

<p>다음 줄에 f(1), f(2), ..., f(m)이 차례대로 주어진다.</p>

<p>다음 줄에 쿼리의 개수 Q가 주어진다. (1 ≤ Q ≤ 200,000)</p>

<p>다음 Q개의 줄에 각각 정수 n과 x가 주어진다. (1 ≤ n ≤ 500,000; 1 ≤ x ≤ m)</p>

### 출력 

 <p>주어지는 n, x마다 f<sub>n</sub>(x)를 출력한다.</p>


# [Gold III] 인하니카 공화국 - 12784 

[문제 링크](https://www.acmicpc.net/problem/12784) 

### 성능 요약

메모리: 114860 KB, 시간: 144 ms

### 분류

깊이 우선 탐색, 다이나믹 프로그래밍, 트리에서의 다이나믹 프로그래밍, 그래프 이론, 그래프 탐색, 트리

### 제출 일자

2024년 11월 7일 09:00:47

### 문제 설명

<p>인하니카 공화국은 1번~ <em>N</em>번까지 <em>N</em>개의 섬으로 이루어진 나라이다. 이 나라에서는 섬 간의 왕래가 매우 어려웠지만, 위대한 다리 설계자 ‘진’이 두 섬을 연결하는 다리를 최소한의 개수로 만들어 모든 섬 간의 왕래가 가능하도록 만들었다. 1번섬에서 살고 있는 진은 어느 날 위험한 소문을 듣게 되었다. 1번섬을 제외한 다리가 하나밖에 없는 어느 섬에서 유명한 연쇄 살인마 괴도‘루팡’이 자신의 목숨을 노리고 있다는 소문이었다. 너무 불안한 나머지 진은 몇 개의 다리를 폭파하여, 루팡이 있을 가능성이 있는 모든 섬에서 자신의 섬으로의 모든 경로를 차단하려고 한다. 하지만 각 다리를 폭파하려면 다리의 크기에 따라 다이너마이트의 개수가 다르다. 다이너마이트는 매우 비싸기 때문에 진은 사용하는 다이너마이트의 개수를 최소화하고 싶어 한다. 각 섬을 연결하는 다리를 폭파하기 위한 다이너마이트의 개수가 주어졌을 때, 진을 도와 필요한 최소 다이너마이트의 개수를 구하라.</p>

<p style="text-align:center"><img alt="" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/12784/1.png" style="height:170px; width:340px"></p>

<p>예를 들어, 위의 그림과 같이 섬과 다리를 폭파하기 위한 다이너마이트의 수가 주어졌을 때, 빨간색 다리를 폭파하면 다이너마이트의 개수를 최소화하면서 루팡으로부터 안전할 수 있다.</p>

### 입력 

 <p>입력의 첫 줄에는 테스트 케이스의 개수 <em>T</em>(1 ≤ <em>T</em> ≤ 100)가 주어진다.</p>

<p>각 테스트 케이스의 첫 번째 줄에는 섬의 수 <em>N</em>(1 ≤ <em>N</em> ≤ 1,000)과 다리의 수 <em>M</em>이 주어진다.</p>

<p>다음으로 <em>M</em>개의 줄에는 각 다리를 통해 이어진 두 섬의 번호와 다리를 파괴하기 위한 다이너마이트의 수 <em>D</em>(1 ≤ <em>D</em> ≤ 20)가 주어진다.</p>

### 출력 

 <p>각 테스트 케이스마다 필요한 최소 다이너마이트의 개수를 출력한다.</p>

